<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>לימוד הלכות – שולחן ערוך וילקוט יוסף</title>
<style>
  :root{
    --bg:#f3f6f9;
    --card:#fff;
    --accent:#0b6b4f;
    --muted:#666;
    --today:#fef3c7;
    --grid-gap:14px;
    --pad:16px;
    --font:"Segoe UI", Roboto, sans-serif;
  }
  *{box-sizing:border-box;}
  body{margin:0; padding:20px; font-family:var(--font); background:var(--bg); color:#111;}
  header{display:flex; flex-direction:column; gap:10px; text-align:right;}
  h1{margin:0; font-size:26px; color:var(--accent);}
  p.lead{margin:0; color:var(--muted); font-size:16px;}
  
  /* Calendar */
  .calendar{display:grid; grid-template-columns:repeat(auto-fill,minmax(90px,1fr)); gap:var(--grid-gap); margin-top:20px;}
  .day{background:var(--card); border-radius:12px; padding:12px; cursor:pointer; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; transition:transform .15s, box-shadow .15s;}
  .day:hover{transform:translateY(-3px); box-shadow:0 6px 12px rgba(0,0,0,.1);}
  .day span.num{font-weight:700; font-size:18px; color:var(--accent);}
  .day span.label{font-size:13px; color:var(--muted);}
  .day.today{background:var(--today); border:2px solid var(--accent);}
  
  /* Detail View */
  .detail{display:none; background:var(--card); padding:20px; border-radius:14px; box-shadow:0 8px 20px rgba(0,0,0,.08); margin-top:25px;}
  .detail.active{display:block;}
  .toolbar{display:flex; gap:10px; align-items:center; margin-bottom:15px;}
  button.btn, button.ghost{border:none; padding:8px 14px; border-radius:8px; cursor:pointer; font-size:14px; transition:.2s;}
  button.btn{background:var(--accent); color:white;}
  button.ghost{background:transparent; color:var(--accent); border:1px solid rgba(11,107,79,.2);}
  .halacha{padding:14px; border-radius:10px; background:#fafafa; margin-bottom:12px; line-height:1.5;}
  .meta{font-size:13px; color:var(--muted); margin-bottom:6px;}
  
  /* Highlight Today Study */
  .study-today{background:#e0f2f1; padding:12px; border-left:4px solid var(--accent); margin-bottom:20px; border-radius:10px; font-weight:600;}
  
  /* Responsive */
  @media(max-width:600px){.calendar{grid-template-columns:repeat(3,1fr);}}
  
</style>
</head>
<body>

<header>
  <h1>לימוד הלכות – שולחן ערוך וילקוט יוסף</h1>
  <p class="lead">בחרו יום בלוח (30 ימים). כאן תוכלו לראות מה צריך ללמוד בכל יום, והלכות מהשולחן ערוך עם הסבר ילקוט יוסף.</p>
</header>

<section class="study-today" id="todayStudy">
  לימוד היום: <span id="todayLabel">טקסט לימוד היום</span>
</section>

<section id="index">
  <div class="calendar" id="calendar"></div>
</section>

<section class="detail" id="detail">
  <div class="toolbar">
    <button class="ghost" id="prev">&larr; יום קודם</button>
    <button class="ghost" id="next">יום הבא &rarr;</button>
    <div style="flex:1"></div>
    <div class="meta" id="dayLabel"></div>
  </div>

  <article>
    <div class="halacha">
      <div class="meta">שולחן ערוך - סימן</div>
      <div id="halachaShulchan">(טקסט שולחן ערוך)</div>
    </div>

    <div class="halacha">
      <div class="meta">ילקוט יוסף - הסבר</div>
      <div id="halachaYalkut">(טקסט ילקוט יוסף)</div>
    </div>
  </article>

  <button class="btn" id="openIndex">חזרה ללוח</button>
</section>

<footer style="text-align:center; margin-top:30px; color:var(--muted); font-size:13px;">
  &copy; 2025 - אתר לימוד אישי
</footer>

<script src="data.js"></script>
<script>
const calendarEl = document.getElementById('calendar');
const detailEl = document.getElementById('detail');
const indexEl = document.getElementById('index');
const halachaShul = document.getElementById('halachaShulchan');
const halachaYalk = document.getElementById('halachaYalkut');
const dayLabel = document.getElementById('dayLabel');
const todayLabelEl = document.getElementById('todayLabel');

const todayIdx = new Date().getDate()-1; // ניתן לשנות ללוח לימוד מותאם

data.forEach((d,i)=>{
  const div = document.createElement('button');
  div.className='day';
  if(i===todayIdx) div.classList.add('today');
  div.innerHTML=`<span class="num">${i+1}</span><span class="label">${d.label}</span>`;
  div.addEventListener('click', ()=>openDay(i));
  calendarEl.appendChild(div);
});

// הצגת לימוד היום
todayLabelEl.textContent = `${data[todayIdx].label} - ${data[todayIdx].shulchan}`;

let current = null;
function openDay(idx){
  current=idx;
  const day=data[idx];
  dayLabel.textContent=`יום ${idx+1} — ${day.label}`;
  halachaShul.textContent=day.shulchan;
  halachaYalk.textContent=day.yalkut;
  detailEl.classList.add('active');
  indexEl.style.display='none';
  window.scrollTo({top:0,behavior:'smooth'});
}

document.getElementById('openIndex').addEventListener('click', ()=>{
  detailEl.classList.remove('active');
  indexEl.style.display='';
  current=null;
});

document.getElementById('prev').addEventListener('click', ()=>{
  if(current===null) return;
  const nextIdx = (current-1+data.length)%data.length;
  openDay(nextIdx);
});
document.getElementById('next').addEventListener('click', ()=>{
  if(current===null) return;
  const nextIdx = (current+1)%data.length;
  openDay(nextIdx);
});

document.addEventListener('keydown',(e)=>{
  if(current===null) return;
  if(e.key==='ArrowLeft') document.getElementById('prev').click();
  if(e.key==='ArrowRight') document.getElementById('next').click();
  if(e.key==='Escape') document.getElementById('openIndex').click();
});
</script>

</body>
</html>
